{%- style -%}
  .section-{{ section.id }}-padding {
    padding-top: {{ section.settings.padding_top | times: 0.75 | round: 0 }}px;
    padding-bottom: {{ section.settings.padding_bottom | times: 0.75 | round: 0 }}px;
  }
  @media screen and (min-width: 750px) {
    .section-{{ section.id }}-padding {
      padding-top: {{ section.settings.padding_top }}px;
      padding-bottom: {{ section.settings.padding_bottom }}px;
    }
  }
{%- endstyle -%}

{%- assign featured_collection = section.settings.featured_collection -%}
<div
  class="section-{{ section.id }}-padding"
  style="background-color: {{ section.settings.section_bg }}"
  id="exclusive-descount"
>
  <div class="container mx-auto px-4">
    <h2 class="mb-6 font-AnekLatin-SemiBold text-woodsmoke text-[28px]/[32px]">
      {{ section.settings.heading }}
    </h2>
    <ul class="grid grid-cols-2 gap-5 md:grid-cols-5">
      {%- assign featured_collection_products = featured_collection.products -%}
      {% assign product_count = featured_collection_products | size %}
      {% if product_count > 0 %}
        {%- for card_product in featured_collection_products limit: section.settings.products_to_show -%}
          <li class="relative border border-solid border-spring-wood">
            <div class="block">
              <img
                srcset="
                  {%- if card_product.featured_media.width >= 165 -%}{{ card_product.featured_media | image_url: width: 165 }} 165w,{%- endif -%}
                  {%- if card_product.featured_media.width >= 360 -%}{{ card_product.featured_media | image_url: width: 360 }} 360w,{%- endif -%}
                  {%- if card_product.featured_media.width >= 533 -%}{{ card_product.featured_media | image_url: width: 533 }} 533w,{%- endif -%}
                  {%- if card_product.featured_media.width >= 720 -%}{{ card_product.featured_media | image_url: width: 720 }} 720w,{%- endif -%}
                  {%- if card_product.featured_media.width >= 940 -%}{{ card_product.featured_media | image_url: width: 940 }} 940w,{%- endif -%}
                  {%- if card_product.featured_media.width >= 1066 -%}{{ card_product.featured_media | image_url: width: 1066 }} 1066w,{%- endif -%}
                  {{ card_product.featured_media | image_url }} {{ card_product.featured_media.width }}w
                "
                src="{{ card_product.featured_media | image_url: width: 533 }}"
                sizes="(min-width: {{ settings.page_width }}px) {{ settings.page_width | minus: 130 | divided_by: 4 }}px, (min-width: 990px) calc((100vw - 130px) / 4), (min-width: 750px) calc((100vw - 120px) / 3), calc((100vw - 35px) / 2)"
                alt="{{ card_product.featured_media.alt | escape }}"
                class="motion-reduce h-[100%] w-[100%]"
                {% unless lazy_load == false %}
                  loading="lazy"
                {% endunless %}
                width="{{ card_product.featured_media.width }}"
                height="{{ card_product.featured_media.height }}"
              >
            </div>
            <div class="flex flex-col gap-[10px] p-4">
              {% if section.settings.show_product_label != false %}
                <div class="flex items-center justify-center bg-white-lilac px-[5px] py-[7px] font-AnekLatin-Medium text-[12px]/[16px] text-blue-marguerite">
                  Shea + Aloe + Coco Butter
                </div>
              {% endif %}
              {% if section.settings.show_collection_tag != false %}
                <span class="text-[14px]/[18px] text-woodsmoke text-opacity-60">{{ card_product.tags }}</span>
              {% endif %}
              <h3 class="font-AnekLatin-SemiBold text-[18px]/[24px] text-woodsmoke">{{ card_product.title }}</h3>
              <div class="mt-2 flex items-center gap-[10px]">
                <img src="https://cdn.shopify.com/s/files/1/0831/6928/0289/files/Group_8791.png?v=1701683297" alt="">
                <span class="text-[14px]/[22px] text-woodsmoke text-opacity-40">(49)</span>
              </div>
              <div class="flex items-baseline gap-3">
                <p class="truncate font-AnekLatin-Bold text-[20px]/[22px] text-woodsmoke">
                  {{ card_product.price | money }}
                </p>
                <p class="truncate font-AnekLatin-Medium text-[20px]/[22px] text-woodsmoke text-opacity-50 line-through">
                  {{ card_product.compare_at_price | money }}
                </p>
                <span class="font-AnekDevanagari-SemiBold text-[13px]/[22px] text-blue-marguerite">22% OFF</span>
              </div>
              <a
                href="{{ card_product.url }}"
                class="btn w-full min-w-fit"
                role="button"
              >
                <span class="mb-[-2px] mt-[2px]">ADD TO CART</span>
              </a>
            </div>
          </li>
        {% endfor %}
      {% endif %}
    </ul>
  </div>
</div>
{% schema %}
{
  "name": "Combo collection",
  "class": "section-generic-product",
  "tag": "section",
  "settings": [
    {
      "type": "color",
      "id": "section_bg",
      "label": "Background color",
      "default": "#FFFFFF"
    },
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "Lorem Ipsum is simply dummy text"
    },
    {
      "type": "header",
      "content": "Featured Collection Info"
    },
    {
      "type": "checkbox",
      "id": "show_collection_tag",
      "label": "Show Collection Tag",
      "default": false
    },
    {
      "type": "collection",
      "id": "featured_collection",
      "label": "Featured Collection"
    },
    {
      "type": "range",
      "id": "products_to_show",
      "min": 2,
      "max": 25,
      "step": 1,
      "default": 2,
      "label": "t:sections.featured-collection.settings.products_to_show.label"
    },
    {
      "type": "checkbox",
      "id": "show_product_label",
      "label": "Show Product Label",
      "default": false
    },
    {
      "type": "header",
      "content": "Padding"
    },
    {
      "type": "range",
      "id": "padding_top",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "Padding Top",
      "default": 36
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "Padding Bottom",
      "default": 36
    }
  ],
  "presets": [
    {
      "name": "Combo collection"
    }
  ]
}
{% endschema %}
